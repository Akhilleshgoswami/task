

## PROJECT START

# Flask Project Setup and API Documentation

# Give script execution permission

 - chmod +x setup.sh

# Run app
 - make sure to run you MySQL server before runing script.
 - before runing the ./setup.sh make sure in the file views.py  db = DatabaseManager(username='YOURUSERNAME', password='YOURPASSWORD', db_name='user').
 - ./setup.sh
 - as you will run the ./setup a db will create name as user and user data will be load into it 

## API TASK

Implement a transaction API for enabling fund transfers between users.
Your task is to build simple REST APIs using Python(Flask) and MySQL.
### SUBTASK 1: Database Design

- You will use MySQL as your choice of database for this assignment.
- Create a script for database creation. It should be possible to set up the DB with a single terminal command.
- Load a `users` table from `spec/users.json` with a load script. You can use any language for this (python, js, shell, etc) but it must be automated.
- The `transactions` table should have valid {senderId, receiverId}. Both these values should belong to valid users.

### SUBTASK 2: Retrieve a transaction

`GET: /api/transactions/<transactionId>`

- Returns transaction information for a given transaction Id. Check `spec/transaction.json` for the transaction format.
 `curl -X GET http://localhost:5000/api/transactions/`

### SUBTASK 3: Retrieve all transactions

`GET: /api/transactions/`

- Returns all transactions [list of `spec/transaction.json`]
  `curl -X GET http://localhost:5000/api/transactions/`


### SUBTASK 4: Create a new transaction

`POST: /api/transactions/`

- Creates a new transaction.
- Payload will contain `{senderId, receiverId, amount, details}`.
- Transaction Id will be autogenerated on the backend - **should be uuid!**.
- Validate the transaction to check if the balance is sufficient in the sender's account.
- Store the transaction in the database.
  `curl --location 'http://127.0.0.1:5000/api/transactions/' \
--header 'Content-Type: application/json' \
--data '{
    "senderId":"440c6409-4c75-458d-aaf3-74daefa4ac67",
    "receiverId":"4530cbd1-2ac4-4c02-8f12-0d6623fe5203",
    "amount":"1500" ,
    "details":"ATV pVt."
}'`


### SUBTASK 5: Reverse a transaction

`DELETE: /api/transactions/<transactionId>`

- Reverses a transaction and restores the sender's and receiver's balance accordingly.
  `curl -X DELETE http://localhost:5000/api/transactions/<transactionId>`
 

### SUBTASK 6: Notify users involved in a transaction

- Build a notification mechanism to notify both the users involved in a transaction. (You can implement a callback service, websocket etc)

NOTE: No actual communication is expected, a simple console.log() should work.

### SUBTASK 6: get all users
`get: /api/users/`
`curl -X GET http://localhost:5000/api/users/`


## Notes

- Cache data for `GET` endpoints for faster retrival of the data from the server. Cache should be updated to avoid stale data.
- You will be evaluated on the basis of code quality - namely code structure, variable and function names, and separation of responsibilities between files.
- You can design your database schemas with appropriate data types and keep in mind that queries should be easy to write.
- Feel free to make any assumptions if you feel we have not mentioned something but make sure you inform us about them during the time of submission.

## Submission

- Create a GitHub repository for this task.
- Each change should be submitted in the form of well-labeled commits.
- Include this README in your repository and add an additional section describing the steps required to run the code.
- Give read access to (https://github.com/prithvisharma & https://github.com/andre-fernando) to review the assignment.

## References:

- https://flask.palletsprojects.com/en/3.0.x/
- https://dev.mysql.com/doc/
- https://karma-runner.github.io/5.2/dev/git-commit-msg.html
